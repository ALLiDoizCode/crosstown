# Agent-Runtime Connector Configuration
# Base Sepolia Testnet with Payment Channels

nodeId: crosstown-node
btpServerPort: 3000
healthCheckPort: 8080
logLevel: info

# Initially empty - peers will be registered dynamically via admin API
peers: []

# Initially empty - routes will be added when peers are registered
routes: []

# Local delivery to Crosstown BLS
localDelivery:
  enabled: true
  url: http://crosstown:3100
  timeout: 30000

# Admin API configuration
adminApi:
  enabled: true
  port: 8081

# Explorer UI
explorer:
  enabled: true
  port: 3001
  retentionDays: 7
  maxEvents: 1000000

# Settlement configuration
settlement:
  enabled: true
  enableSettlement: true
  connectorFeePercentage: 0.001
  # TigerBeetle not required for testnet
  tigerBeetleClusterId: 0
  tigerBeetleReplicas: []

# Settlement infrastructure - ENABLED with Base Sepolia
settlementInfra:
  enabled: true
  # Registry address for payment channel contracts on Base Sepolia
  registryAddress: "0xCbf6f43A17034e733744cBCc130FfcCA3CF3252C"
  # M2M token address on Base Sepolia
  tokenAddress: "0x39eaF99Cd4965A28DFe8B1455DD42aB49D0836B9"
  # RPC URL from environment: BASE_RPC_URL
  rpcUrl: "https://sepolia.base.org"
  # Private key from environment: BASE_PRIVATE_KEY
  privateKey: "0x32e8ddaedf2f1a5372943579ab9e73aa39e1421fdfa0966a586cf8c66ab5ea2c"
  # Settlement threshold (in wei)
  threshold: "1000000000000000000"  # 1 token
  # Polling interval for settlement monitoring
  pollingIntervalMs: 60000  # 1 minute
  # Settlement timeout
  settlementTimeoutSecs: 86400  # 24 hours

# Security configuration
security:
  rateLimit:
    enabled: true
    maxRequestsPerMinute: 100

# Performance tuning
performance:
  maxConcurrentPackets: 100
  packetTimeout: 30000
